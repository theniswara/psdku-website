<div class="p-6 space-y-6">

  <!-- Header -->
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-3xl font-bold mb-1">Admin Dashboard</h2>
      <p class="text-gray-600">
        Login sebagai: <span class="font-semibold">{{ admin?.username }}</span>
      </p>
    </div>

    <!-- ðŸ‘‰ Tombol untuk ke form tambah dosen -->
    <a
      [routerLink]="['/admin/dosen/add']"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold shadow hover:bg-blue-700 transition"
    >
      + Tambah Dosen Baru
    </a>
  </div>

  <hr class="my-2">

  <!-- Presensi Dosen -->
  <h3 class="text-xl font-semibold mb-4">Presensi Dosen Hari Ini</h3>

  <div *ngIf="loading">Memuat data...</div>

  <table *ngIf="!loading" class="w-full bg-white shadow rounded-lg border text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-3 text-left">Nama Dosen</th>
        <th class="p-3 text-left">Prodi</th>
        <th class="p-3 text-left">Status</th>
        <th class="p-3 text-left">Masuk</th>
        <th class="p-3 text-left">Keluar</th>
        <th class="p-3 text-left">Aksi</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let d of dosenList" class="border-t">
        <td class="p-3">{{ d.namaDosen }}</td>
        <td class="p-3">{{ d.prodi }}</td>

        <td class="p-3">
          <span
            class="px-3 py-1 rounded text-white text-xs font-semibold"
            [ngClass]="{
              'bg-green-500': d.statusPresensi === 'Hadir',
              'bg-yellow-600': d.statusPresensi === 'Selesai',
              'bg-gray-500': !d.statusPresensi
            }"
          >
            {{ d.statusPresensi || 'Belum Hadir' }}
          </span>
        </td>

        <td class="p-3">{{ d.waktuMasuk || '-' }}</td>
        <td class="p-3">{{ d.waktuKeluar || '-' }}</td>

        <td class="p-3 space-x-2">

      <td class="p-3 space-x-2">

        <!-- âœ… KELOLA (ADMIN DETAIL CRUD) -->
        <a
          [routerLink]="['/admin/dosen', d.idDosen]"
          class="inline-block px-3 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700"
        >
          Kelola
        </a>

          <!-- Tombol Hapus -->
          <button
            (click)="deleteDosen(d.idDosen)"
            class="inline-block px-3 py-1 rounded bg-red-500 text-white text-xs hover:bg-red-600 disabled:opacity-50"
            [disabled]="deletingId === d.idDosen"
          >
            {{ deletingId === d.idDosen ? 'Menghapus...' : 'Hapus' }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>

</div>
