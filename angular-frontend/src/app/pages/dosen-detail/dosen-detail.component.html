<app-navbar></app-navbar>
<div class="min-h-screen bg-gray-50 pt-24 pb-20 px-4 md:px-8 lg:px-16">
  
  <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8">

    <div class="lg:col-span-4 xl:col-span-3">
      <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden sticky top-28">
        
        <div class="h-32 bg-[#051D47] relative"></div>
        
        <div class="px-6 relative -mt-16 text-center">
          <img
            [src]="dosen?.foto || 'assets/default-foto.png'"
            alt="Foto Dosen"
            class="h-32 w-32 mx-auto rounded-full object-cover border-4 border-white shadow-md bg-white"
          />
          
          <div class="absolute bottom-2 right-1/2 translate-x-10 md:translate-x-12 translate-y-0">
             <span class="flex h-4 w-4 relative">
               <span *ngIf="isOnline(dosen)" class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
               <span [ngClass]="isOnline(dosen) ? 'bg-green-500' : 'bg-gray-400'" class="relative inline-flex rounded-full h-4 w-4 border-2 border-white"></span>
             </span>
          </div>
        </div>

        <div class="px-6 pt-4 pb-8 text-center">
          <h1 class="text-xl font-bold text-[#051D47] font-biryani leading-tight">
            {{ dosen?.namaDosen }}
          </h1>
          <p class="text-[#FF7F11] font-medium text-sm mt-1 mb-4">
            {{ dosen?.jabatan }}
          </p>

          <div class="space-y-3 text-left mt-6 pt-6 border-t border-gray-100">
            
            <div class="flex items-center gap-3 text-sm group">
              <div class="w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#051D47] group-hover:bg-[#051D47] group-hover:text-white transition-colors">
                <i class="fa-solid fa-envelope"></i>
              </div>
              <span class="text-gray-600 truncate">{{ dosen?.email }}</span>
            </div>

            <div class="flex items-center gap-3 text-sm group">
              <div class="w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#051D47] group-hover:bg-[#051D47] group-hover:text-white transition-colors">
                 <i class="fa-solid fa-building-columns"></i>
              </div>
              <span class="text-gray-600">{{ dosen?.prodi }}</span>
            </div>

            <div class="flex items-center gap-3 text-sm group">
              <div class="w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#051D47] group-hover:bg-[#051D47] group-hover:text-white transition-colors">
                <i class="fa-solid fa-id-badge"></i>
              </div>
              <span class="text-gray-600">{{ dosen?.nidn }}</span>
            </div>

          </div>

          <div class="mt-6 flex gap-2 justify-center flex-wrap">
             <a *ngFor="let link of dosen?.linkEksternal" [href]="link.url" target="_blank" 
                class="text-xs font-semibold px-3 py-2 rounded-lg border border-gray-200 text-gray-600 hover:border-[#051D47] hover:text-[#051D47] transition">
               {{ link.namaPlatform }}
             </a>
          </div>
        </div>
      </div>
    </div>

    <div class="lg:col-span-8 xl:col-span-9 space-y-6">

      <div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100">
        <h2 class="text-lg font-bold text-[#051D47] mb-4 flex items-center gap-2">
          <i class="fa-solid fa-star text-[#FF7F11]"></i> Bidang Keahlian
        </h2>
        <div class="flex flex-wrap gap-2">
          <span *ngFor="let b of dosen?.bidangKeahlian"
                class="px-4 py-1.5 bg-blue-50 text-[#051D47] rounded-full text-sm font-medium hover:bg-[#051D47] hover:text-white transition-colors cursor-default border border-blue-100">
            {{ b.namaKeahlian }}
          </span>
        </div>
      </div>

      <div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100">
        <h2 class="text-lg font-bold text-[#051D47] mb-6 flex items-center gap-2">
          <i class="fa-solid fa-graduation-cap text-[#FF7F11]"></i> Pendidikan
        </h2>
        
        <div class="relative border-l-2 border-gray-100 ml-3 space-y-8">
          <div *ngFor="let p of dosen?.pendidikan" class="relative pl-8">
            <div class="absolute -left-[9px] top-1 h-4 w-4 rounded-full border-4 border-white bg-[#FF7F11] shadow-sm"></div>
            
            <h3 class="text-lg font-bold text-gray-800">{{ p.universitas }}</h3>
            <p class="text-[#051D47] font-medium">{{ p.jenjang }} - {{ p.jurusan }}</p>
            <p class="text-sm text-gray-500 mt-1">
              {{ p.tahunMulai }} — {{ p.tahunSelesai }}
            </p>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100">
        <h2 class="text-lg font-bold text-[#051D47] mb-6 flex items-center gap-2">
          <i class="fa-solid fa-chalkboard-user text-[#FF7F11]"></i> Mata Kuliah
        </h2>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div *ngFor="let mk of dosen?.mataKuliah"
               class="p-4 rounded-xl border border-gray-100 bg-gray-50 hover:bg-white hover:shadow-md hover:border-blue-100 transition-all duration-300 group">
            <div class="flex justify-between items-start">
              <p class="font-bold text-[#051D47] group-hover:text-blue-600 transition-colors">
                {{ mk.namaMk }}
              </p>
              <span class="text-xs font-bold px-2 py-1 bg-white rounded border border-gray-200 text-gray-500">
                Sem {{ mk.semester }}
              </span>
            </div>
            <p class="text-xs text-gray-400 mt-2">Kode: {{ mk.kodeMk || 'N/A' }}</p>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100">
        <h2 class="text-lg font-bold text-[#051D47] mb-6 flex items-center gap-2">
          <i class="fa-solid fa-certificate text-[#FF7F11]"></i> Sertifikasi
        </h2>
        <div class="space-y-4">
          <div *ngFor="let s of dosen?.sertifikasi" class="flex items-start gap-4 p-4 rounded-xl border border-gray-100 hover:bg-blue-50/50 transition">
             <div class="h-10 w-10 rounded-full bg-orange-100 text-[#FF7F11] flex items-center justify-center flex-shrink-0">
               <i class="fa-solid fa-award"></i>
             </div>
             <div>
               <h4 class="font-bold text-gray-800">{{ s.namaSertifikasi }}</h4>
               <div class="flex flex-col sm:flex-row sm:gap-4 text-sm text-gray-500 mt-1">
                 <span><span class="font-medium text-[#051D47]">Oleh:</span> {{ s.penerbit }}</span>
                 <span class="hidden sm:inline">•</span>
                 <span>{{ s.tanggalTerbit }}</span>
               </div>
             </div>
          </div>
        </div>
      </div>

    </div> </div>
</div>